#summary A guide to the using the features in ItDepends

==A Humble Disclaimer==

This project arose out of a hacked-up tool that was created out of sheer necessity as we were trying to make our applications smaller at Allurent.  Therefore, the user interface doesn't reflect my idea of good usability or good design, and I offer my apologies for its many shortcomings.

==Installation==

If you don't already have the Adobe AIR runtime installed, install it first from http://get.adobe.com/air/.

Then double click the ItDepends.air file you downloaded from this site and run the installer.

==Linkage Projects==

A _linkage project_ is a collection of input files, search paths and settings used by ItDepends to analyze an application's linkage model.  Elements of a project include:
  * An XML link report produced by the mxmlc compiler for an application
  * A list of directories to search for source code files in the application
  * The main class name for the application
  * A SWFX file produced by the Flex SDK swfx tools from a SWF file (experimental)

==Creating a New Project==

To create a new project, follow these steps:

1. Click the *Load Link Report...* button on the main window and specify a link report file from mxmlc.  (To create a link report for your application, you can pass the `-link-report=_filename_` option to mxmlc as part of your build process, or specify this option in Flex Builder's Project Properties/Flex Compiler dialog.)

2. In the resulting window, browse your way to the main class of your application and select it, then click the *Set Main Class* button.

3. If you want to view source code, click the *Source Path...* button to add a source directory to be browsed.  You can click this button multiple times to add multiple search paths (yes, this is a lousy user interface!).

==Saving a Project==

To save the above settings in a single file that can be reloaded easily, click the *Save Project...* button from the Linkage Browser window.

==The Linkage Browser Window==

After you create your project, you will see a _Linkage Browser_ which displays some overall statistics at the top, and two main panels below.  The left hand panel is the _Package Tree_ and it allows you to browse all the classes and packages in the application, while the right hand panel shows three tabbed detail views that apply to whichever class or package is selected in the left hand tree.

Let's go through the areas of the window one by one.

===Statistics===

  * *Code Size* gives the total size of the code in the linkage browser, with a parenthesized percentage and size relative to the original application as linked by the compiler.  Initially these two numbers will be the same and the proportion will be 100%, but as you explore linkage scenarios by removing classes or creating modules, the number will become smaller.  Note that the number IS NOT CORRECT: it doesn't reflect the actual contribution of the code to the eventual SWF size, because of several factors described below.

  * *References* is the number of external or intrinsic references in the linkage model.

  * *Linked Classes* is the number of classes in the linkage model, followed by a parenthesized class count from the original application.

==Package Tree==

Each class or package is followed by its percentage of the code size in the application, and the number of bytes in parentheses.  Classes are also shown with a number in square brackets that indicates how many other classes in the linkage model immediately refer to them.

==Dependency Detail Tabs==

When a class or package is selected in the left-hand Package Tree, the right hand panel shows three tabbed displays:

*All References* shows all the classes ultimately reached by a chain of dependencies originating with the selected class or package.  If you are thinking of moving the selected item out of the application either by removing it or moving it into a module, these are the classes that might be able to disappear along with it.  Some of them won't be able to disappear, of course, if other classes still depend on them.

*Immediate References* shows the classes on which the selected class or package directly depends: the _outgoing dependencies_.  This is a shorter list than All References.

*Referring Classes* is in many ways the most useful display: it shows a list of all classes which depend on the selected class or package, or the _incoming dependencies_.  If you find a class or package that is large or which has many other dependencies, and you'd like to evict it from your app or move it out into a module, this list tells you which other classes depend directly on it.

==Source Browser==

Double-clicking a class name in any display brings up a separate _Source Browser_ window that shows all the incoming and outgoing dependencies as hyperlinks that cause the source browser display to show those classes instead.  If you have specified source paths, and the source AS or MXML file could be found, this window will show the source code and will highlight all class name references within the file as hyperlinks of the same kind.

==Exploring Deletion Scenarios==

Once you have highlighted

==Why the Code Size and Percentages are Inaccurate==

The numbers in link reports reflect the size of classes at an intermediate stage of compilation.  The sizes in the actual SWF are lower because of:
  * optimization
  * ZLIB compression of the SWF

Furthermore the proportional size isn't quite correct either because a SWF typically contains a bunch of additional stuff besides what the link report tells ItDepends, like embedded fonts, the Flex preloader, and other assorted non-code-related information.
